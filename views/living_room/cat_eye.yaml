---
title: 猫眼
path: living-cat_eye
subview: true
cards:
  - type: vertical-stack
    cards:
      - type: custom:button-card
        entity: sensor.midr_cn_1107165351_ph300_battery_level_p_5_1
        name: 电池电量
        template:
          - display_card
      - type: custom:button-card
        entity: event.midr_cn_1107165351_ph300_doorbell_ring_e_2_1
        name: 有人按门铃
        state_display: >-
          [[[
            function beautifyTime(mistiming){
                mistiming = Math.round(mistiming / 1000);
                if (mistiming < 0) mistiming = 0;
                if (mistiming < 10) return '刚刚';
                var postfix = '前';
                var arrr = ['年','个月','天','小时','分钟','秒'];
                var arrn = [31536000,2592000,86400,3600,60,1];
                for (var i=0; i<7; i++) {
                    var inm = Math.floor(mistiming/arrn[i]);
                    if (inm!=0) {
                        return inm+arrr[i] + postfix;
                    }
                }
            }
            return beautifyTime(Date.now() - Date.parse(entity.state));
          ]]]
        template:
          - display_card
      - type: custom:button-card
        entity: event.midr_cn_1107165351_ph300_someone_passed_by_e_2_3
        name: 有人经过
        state_display: >-
          [[[
            function beautifyTime(mistiming){
                mistiming = Math.round(mistiming / 1000);
                if (mistiming < 0) mistiming = 0;
                if (mistiming < 10) return '刚刚';
                var postfix = '前';
                var arrr = ['年','个月','天','小时','分钟','秒'];
                var arrn = [31536000,2592000,86400,3600,60,1];
                for (var i=0; i<7; i++) {
                    var inm = Math.floor(mistiming/arrn[i]);
                    if (inm!=0) {
                        return inm+arrr[i] + postfix;
                    }
                }
            }
            return beautifyTime(Date.now() - Date.parse(entity.state));
          ]]]
        template:
          - display_card
      - type: custom:button-card
        entity: event.midr_cn_1107165351_ph300_someone_at_the_door_e_2_4
        name: 有人在门前停留
        state_display: >-
          [[[
            function beautifyTime(mistiming){
                mistiming = Math.round(mistiming / 1000);
                if (mistiming < 0) mistiming = 0;
                if (mistiming < 10) return '刚刚';
                var postfix = '前';
                var arrr = ['年','个月','天','小时','分钟','秒'];
                var arrn = [31536000,2592000,86400,3600,60,1];
                for (var i=0; i<7; i++) {
                    var inm = Math.floor(mistiming/arrn[i]);
                    if (inm!=0) {
                        return inm+arrr[i] + postfix;
                    }
                }
            }
            return beautifyTime(Date.now() - Date.parse(entity.state));
          ]]]
        template:
          - display_card
